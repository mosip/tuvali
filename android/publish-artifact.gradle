publishing {
  repositories {
    maven {
      url = "https://repo1.maven.org/maven2/io/mosip/"
      name = "tuvali"
      credentials {
        username = System.getenv("OSSRH_USERNAME")
        password = System.getenv("OSSRH_PASSWORD")
      }
    }
  }
  publications {
    aar(MavenPublication) {
      pom {
        withXml {
          def dependenciesNode = asNode().appendNode('dependencies')
          project.configurations.implementation.allDependencies.each {
            def dependencyNode = dependenciesNode.appendNode('dependency')
            dependencyNode.appendNode('groupId', it.group)
            dependencyNode.appendNode('artifactId', it.name)
            dependencyNode.appendNode('version', it.version)
          }
        }
      }
      groupId = "io.mosip"
      artifactId = "tuvali"
      version = "1.0"
      artifact("build/outputs/aar/android-release.aar")
    }
  }
}
